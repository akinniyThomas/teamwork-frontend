(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(32),o=a.n(r),c=(a(62),a(4)),i=a(5),l=a(7),u=a(6),m=a(8),p=(a(63),a(20)),d=a(3),h=a.n(d),f=a(11),b=(a(65),a(23)),g=a.n(b),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).changeMatters=function(e){var t=e.target.name,s=e.target["checkbox"===e.target.type?"checked":"value"];a.props.data(t,s)},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:!0===this.props.signIn?g.a.containerLine:g.a.containerLineUser},n.a.createElement("label",{className:!0===this.props.signIn?g.a.labelLine:g.a.labelLineUser},this.props.textlabel),n.a.createElement("input",{className:!0===this.props.signIn?g.a.textBoxLine:g.a.textBoxLineUser,type:this.props.type,value:this.props.value,checked:this.props.value,name:this.props.name,onChange:this.changeMatters}))}}]),t}(n.a.Component),v=a(50),E=a.n(v),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).makeRequests=function(){var e=Object(f.a)(h.a.mark((function e(t,a,s,n,r){var o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("POST"!==t||!r){e.next=9;break}return e.next=3,fetch(a,{method:t,body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});case 3:return o=e.sent,e.next=6,o.json();case 6:return e.abrupt("return",e.sent);case 9:if("GET"!==t){e.next=16;break}return e.next=12,fetch(a,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 12:return c=e.sent,e.next=15,c.json();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t,a,s,n,r){return e.apply(this,arguments)}}(),a.setData=function(e,t){a.setState(Object(p.a)({},e,t))},a.getUser=Object(f.a)(h.a.mark((function e(){var t,s,n,r,o,c,i,l,u,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={email:a.state.email,password:a.state.password},s="".concat(a.state.url,"/auth/signin"),e.next=5,a.makeRequests("POST",s,t,"",!0);case 5:if("success"!==(n=e.sent).status){e.next=18;break}return r=n.data,o=r.userId,c=r.token,i=r.administrator,l="".concat(a.state.url,"/auth/users/").concat(o),e.next=11,a.makeRequests("GET",l,"",c,!1);case 11:u=e.sent,console.log(u.data),"success"===u.status?m={userId:o,token:c,administrator:i,firstname:u.data[0].firstname,lastname:u.data[0].lastname,staffnumber:u.data[0].staffnumber}:(m={userId:o,token:c,administrator:i,firstname:"",lastname:"",staffnumber:""},alert("problem retrieving user details")),a.props.user(m),a.props.change(3),e.next=19;break;case 18:"error"===n.status&&("incorrect password"===n.error.message?alert("Incorrect Password!"):"user doesnt exist"===n.error.message?alert("User does not exist"):alert("Server Error!"));case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("Error",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])}))),a.dosomething=function(e){e.preventDefault(),a.getUser()},a.state={email:"",password:"",url:"https://andteawok.herokuapp.com/api/v1"},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:E.a.container},n.a.createElement("h1",{className:E.a.header},"Sign In"),n.a.createElement("form",{onSubmit:this.dosomething},n.a.createElement(_,{textlabel:"Email",type:"email",value:this.state.email,name:"email",data:this.setData,signIn:!0}),n.a.createElement(_,{textlabel:"Password",type:"password",value:this.state.password,name:"password",data:this.setData,signIn:!0}),n.a.createElement("button",null,"Log In")))}}]),t}(n.a.Component),k=(a(66),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("label",{className:"".concat(!0===this.props.home?"labelHome":"labelUser")},n.a.createElement("input",{className:"".concat(!0===this.props.home?"radioHome":"radioUser"),type:"radio",checked:this.props.selectedState===this.props.valueOne,value:this.props.valueOne,onChange:this.props.setCheckedState,name:this.props.name}),this.props.radioOne),n.a.createElement("label",{className:"".concat(!0===this.props.home?"labelHome":"labelUser")},n.a.createElement("input",{className:"".concat(!0===this.props.home?"radioHome":"radioUser"),type:"radio",checked:this.props.selectedState===this.props.valueTwo,value:this.props.valueTwo,onChange:this.props.setCheckedState,name:this.props.name}),this.props.radioTwo))}}]),t}(n.a.Component)),y=a(55),w=a.n(y),N=(a(67),a(19)),x=a.n(N),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).resetAll=function(){["firstname","lastname","email","staffnumber","address","jobrole","password","passwordConfirm","employmentdate"].forEach((function(e){a.setState(Object(p.a)({},e,""))})),a.setState({gender:"male"}),a.setState({administrator:!1})},a.setEmploymentDate=function(e){return a.setState({employmentdate:e})},a.setCheckedState=function(e){return a.setState({gender:e.target.value})},a.setData=function(e,t){a.setState(Object(p.a)({},e,t))},a.SignUp=function(){var e=Object(f.a)(h.a.mark((function e(t){var s,n,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.state.password!==a.state.passwordConfirm){e.next=14;break}return s=a.state,n=a.props.user.token,r="".concat(a.state.url,"/auth/create-user"),e.next=7,fetch(r,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 7:return o=e.sent,e.next=10,o.json();case 10:"success"===e.sent.status&&(alert("user successfully created"),a.resetAll()),e.next=15;break;case 14:alert("password mismatch");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={firstname:"",lastname:"",email:"",staffnumber:"",address:"",jobrole:"",password:"",passwordConfirm:"",administrator:!1,employmentdate:"",gender:"male"},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:x.a.container},n.a.createElement("h1",{className:x.a.header},"Create User"),n.a.createElement("div",{className:x.a.backHome},n.a.createElement("p",{onClick:function(t){return e.props.change(3)}},"\u2190 Back to Home")),n.a.createElement("form",{className:x.a.formContainer,onSubmit:this.SignUp},n.a.createElement(_,{textlabel:"FirstName",type:"text",value:this.state.firstname,name:"firstname",data:this.setData}),n.a.createElement(_,{textlabel:"LastName",type:"text",value:this.state.lastname,name:"lastname",data:this.setData}),n.a.createElement(_,{textlabel:"Email",type:"email",value:this.state.email,name:"email",data:this.setData}),n.a.createElement(_,{textlabel:"Staff Number",type:"text",value:this.state.staffnumber,name:"staffnumber",data:this.setData}),n.a.createElement("div",{className:x.a.gender},n.a.createElement("label",null,"Gender"),n.a.createElement(k,{selectedState:this.state.gender,setCheckedState:this.setCheckedState,valueOne:"male",valueTwo:"female",radioOne:"Male",radioTwo:"Female",name:"gender"})),n.a.createElement(_,{textlabel:"Job Role",type:"text",value:this.state.jobrole,name:"jobrole",data:this.setData}),n.a.createElement(_,{textlabel:"Address",type:"text",value:this.state.address,name:"address",data:this.setData}),n.a.createElement("div",{className:x.a.employmentDate},n.a.createElement("label",null,"Employment Date"),n.a.createElement(w.a,{className:x.a.employmentDateBox,selected:this.state.employmentdate,onChange:this.setEmploymentDate})),n.a.createElement(_,{textlabel:"Administrator?",type:"checkbox",value:this.state.administrator,name:"administrator",data:this.setData}),n.a.createElement(_,{textlabel:"Password",type:"password",value:this.state.password,name:"password",data:this.setData}),n.a.createElement(_,{textlabel:"Confirm Password",type:"password",value:this.state.passwordConfirm,name:"passwordConfirm",data:this.setData}),n.a.createElement("div",{className:x.a.butonDiv},n.a.createElement("button",{className:x.a.buton},"Create User"))))}}]),t}(n.a.Component),j=a(12),S=a.n(j),F=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setDateTime=function(){},a.setReadOnly=function(e){return a.setState({readOnly:!a.state.readOnly})},a.setNewFeed=function(e){return a.setState({newFeed:e.target.value})},a.setNewTitle=function(e){return a.setState({newTitle:e.target.value})},a.editArticle=function(){var e=Object(f.a)(h.a.mark((function e(t){var s,n,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.props.user.token,n="".concat(a.state.url,"/articles/").concat(a.props.feed.id),r={title:a.state.newTitle,feed:a.state.newFeed,inappropflag:!1},e.next=5,fetch(n,{method:"PATCH",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 5:return o=e.sent,e.next=8,o.json();case 8:"success"===e.sent.status&&(alert("Article successfully updated!"),a.setReadOnly(),a.props.refresher());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteArticle=function(){var e=Object(f.a)(h.a.mark((function e(t){var s,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.props.user.token,n="".concat(a.state.url,"/articles/").concat(a.props.feed.id),e.next=4,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 4:return r=e.sent,e.next=7,r.json();case 7:"success"===e.sent.status&&(alert("Article successfully deleted!"),a.props.refresher());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setOneFeed=function(e){e.preventDefault(),a.state.readOnly&&a.props.isNotOneFeed&&(a.props.setOneFeed(a.props.feed),a.props.change(4))};var s=a.props.feed.createdon.split("T"),n=s[0],r=s[1].substring(0,5),o="".concat(n," @ ").concat(r);return a.state={readOnly:!0,newFeed:a.props.feed.feed,newTitle:a.props.feed.title,dateTime:o,url:"https://andteawok.herokuapp.com/api/v1"},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,a,s="".concat(this.props.feed.category),r=this.state.dateTime;console.log(this.state.dateTime),this.props.user.userId===this.props.feed.authorid&&(e="delete",t="edit post",!1===this.state.readOnly&&(t="cancel")),a="".concat(this.props.feed.authorfirstname," ").concat(this.props.feed.authorlastname);var o=this.props.feed.feed,c=this.props.feed.title,i=n.a.createElement("div",{className:S.a.changable},n.a.createElement("span",{className:S.a.comment,onClick:this.setOneFeed},"comments"),n.a.createElement("span",{className:S.a.delete,onClick:this.deleteArticle},e),n.a.createElement("span",{className:S.a.edit,onClick:this.setReadOnly},t));return this.state.readOnly||(o=this.state.newFeed,c=this.state.newTitle,"done",i=n.a.createElement("div",{className:S.a.changable},n.a.createElement("span",{className:S.a.comment,onClick:this.setOneFeed},"comments"),n.a.createElement("span",{className:S.a.delete,onClick:this.deleteArticle},e),n.a.createElement("span",{className:S.a.edit,onClick:this.setReadOnly},t),n.a.createElement("span",{className:S.a.done,onClick:this.editArticle},"done"))),this.props.oneFeed&&(i=""),n.a.createElement("div",{className:S.a.container},n.a.createElement("div",{className:S.a.author},a),n.a.createElement("input",{className:S.a.title,type:"text",value:c,readOnly:this.state.readOnly,onChange:this.setNewTitle}),n.a.createElement("textarea",{className:S.a.feed,onClick:this.setOneFeed,readOnly:this.state.readOnly,value:o,onChange:this.setNewFeed}),n.a.createElement("div",{className:S.a.bottom},i,n.a.createElement("div",{className:S.a.nonChangable},n.a.createElement("span",{className:S.a.category},s),n.a.createElement("span",{className:S.a.date},r))))}}]),t}(n.a.Component),T=a(14),P=a.n(T),A=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).deleteGif=function(){var e=Object(f.a)(h.a.mark((function e(t){var s,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.props.user.token,n="http://localhost:8000/api/v1/gifs/".concat(a.props.feed.id),e.next=4,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 4:return r=e.sent,e.next=7,r.json();case 7:"success"===e.sent.status&&(alert("Gif successfully deleted!"),a.props.refresher());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setOneFeed=function(e){a.props.isNotOneFeed&&(e.preventDefault(),a.props.setOneFeed(a.props.feed),a.props.change(4))};var s=a.props.feed.createdon.split("T"),n=s[0],r=s[1].substring(0,5),o="".concat(n," @ ").concat(r);return a.state={dateTime:o},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,a="".concat(this.props.feed.category);this.props.user.userId===this.props.feed.authorid&&(e="delete"),t="".concat(this.props.feed.authorfirstname," ").concat(this.props.feed.authorlastname);var s=n.a.createElement("div",{className:P.a.changable},n.a.createElement("span",{className:P.a.comment,onClick:this.setOneFeed},"comments"),n.a.createElement("span",{className:P.a.delete,onClick:this.deleteGif},e));return this.props.oneFeed&&(s=""),n.a.createElement("div",{className:P.a.container},n.a.createElement("span",{className:P.a.author},t),n.a.createElement("div",{className:P.a.title},this.props.feed.title),n.a.createElement("img",{className:P.a.feed,onClick:this.setOneFeed,src:this.props.feed.feed,alt:this.props.feed.title}),n.a.createElement("div",{className:P.a.bottom},s,n.a.createElement("div",{className:P.a.nonChangable},n.a.createElement("span",{className:P.a.category},a),n.a.createElement("span",{className:P.a.date},this.state.dateTime))))}}]),t}(n.a.Component),D=a(15),G=a.n(D),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setData=function(e){if(a.setState(Object(p.a)({},e.target.name,e.target.value)),"tag"===e.target.name){var t;switch(e.target.value){case"casual":t=1;break;case"work":t=2;break;case"family":t=3;break;default:t=1}a.setState({tagid:t})}},a.setFile=function(e){a.setState({selectedFile:e.target.files[0]})},a.MakePost=function(e){e.preventDefault(),a.props.postPosts(a.state.feed,a.state.title,a.state.inappropflag,a.state.authorid,a.state.tagid,a.state.selectedFile,a.props.artORgif)},a.state={feed:"",title:"",inappropflag:!1,authorid:a.props.user.userId,tagid:1,tag:"casual",selectedFile:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;return e="article"===this.props.artORgif?n.a.createElement("div",null,n.a.createElement("form",{className:G.a.formContainer,onSubmit:this.MakePost},n.a.createElement("input",{className:G.a.title,type:"text",value:this.state.title,onChange:this.setData,name:"title",placeholder:"Enter Title Here"}),n.a.createElement("textarea",{className:G.a.feed,value:this.state.feed,onChange:this.setData,name:"feed",placeholder:"Article Here"}),n.a.createElement("select",{className:G.a.category,value:this.state.tag,onChange:this.setData,name:"tag"},n.a.createElement("option",{value:"casual"},"Casual"),n.a.createElement("option",{value:"work"},"Work"),n.a.createElement("option",{value:"family"},"Family")),n.a.createElement("button",{className:G.a.button},"Post Article"))):n.a.createElement("div",null,n.a.createElement("form",{className:G.a.formContainer,onSubmit:this.MakePost},n.a.createElement("input",{className:G.a.title,type:"text",value:this.state.title,onChange:this.setData,name:"title",placeholder:"Enter Title Here"}),n.a.createElement("input",{className:G.a.file,type:"file",onChange:this.setFile,name:"file"}),n.a.createElement("select",{className:G.a.category,value:this.state.tag,onChange:this.setData,name:"tag"},n.a.createElement("option",{value:"casual"},"Casual"),n.a.createElement("option",{value:"work"},"Work"),n.a.createElement("option",{value:"family"},"Family")),n.a.createElement("button",{className:G.a.button},"Post Gif"))),n.a.createElement("div",{className:G.a.container},e)}}]),t}(n.a.Component),H=a(24),U=a.n(H),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setFeed=function(e){return a.setState({feeds:e})},a.setArticle=function(e){return a.setState({articles:e})},a.setGifs=function(e){return a.setState({gifs:e})},a.setShowFeeds=function(e){return a.setState({showFeeds:!a.state.showFeeds})},a.setCheckedState=function(e){return a.setState({selectedState:e.target.value,postPage:null})},a.makeRequests=function(){var e=Object(f.a)(h.a.mark((function e(t,a,s,n,r){var o,c,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("POST"!==t||!r){e.next=15;break}return(o=new FormData).append("inappropflag",s.inappropflag),o.append("upload file",s.selectedFile),o.append("title",s.title),o.append("tagid",s.tagid),o.append("authorid",s.authorid),e.next=9,fetch(a,{method:t,headers:{Authorization:"Bearer ".concat(n)},body:o});case 9:return c=e.sent,e.next=12,c.json();case 12:return e.abrupt("return",e.sent);case 15:if("GET"!==t){e.next=24;break}return e.next=18,fetch(a,{method:t,params:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 18:return i=e.sent,e.next=21,i.json();case 21:return e.abrupt("return",e.sent);case 24:return e.next=27,fetch(a,{method:t,body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 27:return l=e.sent,e.next=30,l.json();case 30:return e.abrupt("return",e.sent);case 31:case"end":return e.stop()}}),e)})));return function(t,a,s,n,r){return e.apply(this,arguments)}}(),a.getFeeds=Object(f.a)(h.a.mark((function e(){var t,s,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(a.state.url,"/feed"),s=a.props.user.token,e.next=4,a.makeRequests("GET",t,"",s,!1);case 4:"success"===(n=e.sent).status?(r=n.data,a.setFeed(r),console.log(r)):"no rows"===n.error.message&&a.setFeed([]);case 6:case"end":return e.stop()}}),e)}))),a.getMyArticlesAndGifs=Object(f.a)(h.a.mark((function e(){var t,s,n,r,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(a.state.url,"/articles"),s=a.props.user.token,e.next=4,a.makeRequests("GET",t,"",s,!1);case 4:return"success"===(n=e.sent).status?(r=n.data,a.setArticle(r),console.log(r)):"no rows"===n.error.message&&a.setArticle([]),t="".concat(a.state.url,"/gifs"),e.next=9,a.makeRequests("GET",t,"",s,!1);case 9:"success"===(o=e.sent).status?(c=o.data,a.setGifs(c),console.log(c)):"no rows"===o.error.message&&a.setGifs([]);case 11:case"end":return e.stop()}}),e)}))),a.newPoster=function(e){return n.a.createElement(L,{user:a.props.user,artORgif:e,postPosts:a.postPosts})},a.postPosts=function(){var e=Object(f.a)(h.a.mark((function e(t,s,n,r,o,c,i){var l,u,m,p,d,f;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("article"===i?(l=t,u="".concat(a.state.url,"/articles"),m=null):(l="",u="".concat(a.state.url,"/gifs"),m=c),p={title:s,inappropflag:n,authorid:r,tagid:o,feed:l,selectedFile:m},d=a.props.user.token,console.log(p),"gif"!==i){e.next=10;break}return e.next=7,a.makeRequests("POST",u,p,d,!0);case 7:f=e.sent,e.next=13;break;case 10:return e.next=12,a.makeRequests("POST",u,p,d,!1);case 12:f=e.sent;case 13:"success"===f.status?(alert("Post Done Successfully"),a.setState({postPage:null}),a.refresher()):alert("Issue encountered with Post..");case 14:case"end":return e.stop()}}),e)})));return function(t,a,s,n,r,o,c){return e.apply(this,arguments)}}(),a.setPostPage=function(e){a.state.postPage!==e?a.setState({postPage:e}):a.setState({postPage:null})},a.refresher=function(){a.getFeeds(),a.getMyArticlesAndGifs()},a.state={feeds:[],articles:[],gifs:[],showFeeds:!1,selectedState:"articleState",postPage:null,url:"https://andteawok.herokuapp.com/api/v1"},a.refresher(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,a,s,r=this,o="Show Feeds";return t=n.a.createElement(k,{selectedState:this.state.selectedState,setCheckedState:this.setCheckedState,valueOne:"articleState",valueTwo:"gifState",radioOne:"Article",radioTwo:"Gif",name:"gif_art",home:!0}),this.state.showFeeds&&this.state.feeds!==[]?(e=this.state.feeds.map((function(e){return"art"===e.feedtype?n.a.createElement(F,{feed:e,key:e.id,user:r.props.user,change:r.props.change,setOneFeed:r.props.setOneFeed,refresher:r.refresher,isNotOneFeed:!0}):"gif"===e.feedtype?n.a.createElement(A,{feed:e,key:e.id,user:r.props.user,change:r.props.change,setOneFeed:r.props.setOneFeed,refresher:r.refresher,isNotOneFeed:!0}):void 0})),o="Show My Articles/Gifs",t=""):this.state.showFeeds||"articleState"!==this.state.selectedState||this.state.articles===[]?this.state.showFeeds||"gifState"!==this.state.selectedState||this.state.gifs===[]||(e=this.state.gifs.map((function(e){return n.a.createElement(A,{feed:e,key:e.id,user:r.props.user,change:r.props.change,setOneFeed:r.props.setOneFeed,refresher:r.refresher,isNotOneFeed:!0})})),a=n.a.createElement("label",{className:U.a.newPost,onClick:function(e){return r.setPostPage("gif")}},"Post New Gif")):(e=this.state.articles.map((function(e){return n.a.createElement(F,{feed:e,key:e.id,user:r.props.user,change:r.props.change,setOneFeed:r.props.setOneFeed,refresher:r.refresher,isNotOneFeed:!0})})),a=n.a.createElement("label",{className:U.a.newPost,onClick:function(e){return r.setPostPage("article")}},"Post New Article")),a&&this.state.postPage&&(s=this.newPoster(this.state.postPage)),n.a.createElement("div",{className:U.a.container},n.a.createElement("h1",{className:U.a.header},"Home"),n.a.createElement("div",null,n.a.createElement("label",{className:U.a.showFeeds,onClick:this.setShowFeeds},o)),n.a.createElement("div",null,t),a,n.a.createElement("hr",null),s,n.a.createElement("div",{className:U.a.artGif},e))}}]),t}(n.a.Component),B=a(30),R=a.n(B),q=function(e){function t(e){var a;Object(c.a)(this,t);var s=(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.comment.createdon.split("T"),n=s[0],r=s[1].substring(0,5),o="".concat(n," @ ").concat(r);return a.state={dateTime:o},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.dateTime,t="".concat(this.props.comment.firstname," ").concat(this.props.comment.lastname);return n.a.createElement("div",{className:R.a.container},n.a.createElement("span",{className:R.a.author},t),n.a.createElement("label",{className:R.a.comment,readOnly:!0,value:this.props.comment.coment},this.props.comment.coment),n.a.createElement("span",{className:R.a.date},e))}}]),t}(n.a.Component),J=a(31),M=a.n(J),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setComments=function(e){return a.setState({comments:e})},a.setCommentText=function(e){return a.setState({commentText:e.target.value})},a.makeRequest=Object(f.a)(h.a.mark((function e(){var t,s,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.props.user.token,t="art"===a.props.feed.feedtype?"".concat(a.state.url,"/articles/").concat(a.props.feed.id):"".concat(a.state.url,"/gifs/").concat(a.props.feed.id),e.next=4,fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 4:return n=e.sent,console.log("right here waiting..."),e.next=8,n.json();case 8:"success"===(r=e.sent).status&&(a.setComments(r.data.comments),console.log(r.data));case 10:case"end":return e.stop()}}),e)}))),a.postComment=function(){var e=Object(f.a)(h.a.mark((function e(t){var s,n,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.user.token,s="art"===a.props.feed.feedtype?"".concat(a.state.url,"/articles/").concat(a.props.feed.id,"/comment"):"".concat(a.state.url,"/gifs/").concat(a.props.feed.id,"/comment"),r={coment:a.state.commentText,inappropflag:!1,authorid:a.props.user.userId},e.next=6,fetch(s,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 6:return o=e.sent,e.next=9,o.json();case 9:"success"===e.sent.status&&(alert("comment successfully posted"),a.setState({commentText:""}),a.makeRequest());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={comments:[],commentText:"",url:"https://andteawok.herokuapp.com/api/v1"},a.makeRequest(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this;e="art"===this.props.feed.feedtype?n.a.createElement(F,{feed:this.props.feed,key:this.props.feed.id,user:this.props.user,oneFeed:!0}):n.a.createElement(A,{feed:this.props.feed,key:this.props.feed.id,user:this.props.user,oneFeed:!0});var a=this.state.comments.map((function(e){return n.a.createElement(q,{user:t.props.user,comment:e,feed:t.props.feed,key:e.comentid})}));return n.a.createElement("div",null,n.a.createElement("div",{className:M.a.backHome},n.a.createElement("h4",{onClick:function(e){return t.props.change(3)}},"\u2190Go Back")),n.a.createElement("h3",null,e),n.a.createElement("div",{className:M.a.container},n.a.createElement("form",{className:M.a.formContainer,onSubmit:this.postComment},n.a.createElement("input",{className:M.a.comment,type:"text",value:this.state.commentText,onChange:this.setCommentText,placeholder:"Your Thoughts..."}),n.a.createElement("button",null,"Post Comment"))),a)}}]),t}(n.a.Component),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setFeed=function(e){return a.setState({feed:e})},a.userPage=function(e){return a.setPageNumber(2)},a.setPageNumber=function(e){a.setState({pageNumber:e}),console.log(a.state.pageNumber)},a.setUser=function(e){a.setState({user:{userId:e.userId,token:e.token,administrator:e.administrator,firstname:e.firstname,lastname:e.lastname,staffnumber:e.staffnumber}})},a.Logout=function(e){a.setUser({userId:0,firstname:"",lastname:"",staffnumber:"",token:"",administrator:!1}),a.setPageNumber(1)},a.teamworkClick=function(e){0!==a.state.user.userId&&a.setPageNumber(3)},a.state={pageNumber:1,user:{userId:0,firstname:"",lastname:"",staffnumber:"",token:"",administrator:!1},feed:{}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,a,s;return 1===this.state.pageNumber?e=n.a.createElement(O,{change:this.setPageNumber,user:this.setUser}):2===this.state.pageNumber?(t="".concat(this.state.user.firstname," ").concat(this.state.user.lastname," [").concat(this.state.user.staffnumber,"]"),a="Logout",e=n.a.createElement(C,{change:this.setPageNumber,user:this.state.user})):3===this.state.pageNumber?(t="".concat(this.state.user.firstname," ").concat(this.state.user.lastname," [").concat(this.state.user.staffnumber,"]"),a="Logout",e=n.a.createElement(I,{change:this.setPageNumber,user:this.state.user,setOneFeed:this.setFeed})):(t="".concat(this.state.user.firstname," ").concat(this.state.user.lastname," [").concat(this.state.user.staffnumber,"]"),a="Logout",e=n.a.createElement(z,{change:this.setPageNumber,user:this.state.user,feed:this.state.feed})),this.state.user.administrator&&(s="Create New User"),n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"Header"},n.a.createElement("span",{className:"".concat(0!==this.state.user.userId?"Teamwork":"notLogedIn"),onClick:this.teamworkClick},"TeamWork"),n.a.createElement("div",{className:"RightSection"},n.a.createElement("span",{className:"CreateUser",onClick:this.userPage},s),n.a.createElement("span",{className:"FullName"},t),n.a.createElement("span",{className:"LogInOut",onClick:this.Logout},a))),e)}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},12:function(e,t,a){e.exports={container:"Article_container__3brCj",author:"Article_author__j0g-_",title:"Article_title__17gy-",feed:"Article_feed__3_9GC",date:"Article_date__25XAk",bottom:"Article_bottom__2C_Tk",category:"Article_category__C0yfq",nonChangable:"Article_nonChangable__3kcTD",changable:"Article_changable__OQCd7",done:"Article_done__1-bPn",comment:"Article_comment__5i7sJ",delete:"Article_delete__2Zvi5",edit:"Article_edit__39V7B"}},14:function(e,t,a){e.exports={container:"Gif_container__3HtPi",author:"Gif_author__2in23",title:"Gif_title__6HIoF",feed:"Gif_feed__3bTNa",date:"Gif_date__2gVH2",bottom:"Gif_bottom__3hF1X",category:"Gif_category__2KuDE",nonChangable:"Gif_nonChangable__1YD26",changable:"Gif_changable__r5w6V",done:"Gif_done__1XOOQ",comment:"Gif_comment__20ZdF",delete:"Gif_delete__3Gkl7",edit:"Gif_edit__2QDCZ"}},15:function(e,t,a){e.exports={container:"NewPost_container__3lZgM",formContainer:"NewPost_formContainer__2wP4W",feed:"NewPost_feed__eGp5s",title:"NewPost_title__1hEuv",category:"NewPost_category__24A7u",file:"NewPost_file__7l1XG"}},19:function(e,t,a){e.exports={formContainer:"Signup_formContainer__3UhoA",header:"Signup_header__2G0Uh",backHome:"Signup_backHome__2Lbbl",employmentDate:"Signup_employmentDate__28BTp",gender:"Signup_gender__3GDKT",employmentDateBox:"Signup_employmentDateBox__3wqLt",butonDiv:"Signup_butonDiv__YcB-4"}},23:function(e,t,a){e.exports={labelLine:"OneLine_labelLine__3rR-L",containerLine:"OneLine_containerLine__39gMG",textBoxLine:"OneLine_textBoxLine__1fgES",labelLineUser:"OneLine_labelLineUser__36XHe",containerLineUser:"OneLine_containerLineUser__-TFsw",textBoxLineUser:"OneLine_textBoxLineUser__3W0rE"}},24:function(e,t,a){e.exports={container:"Home_container__1bcaW",header:"Home_header__3PHJK",showFeeds:"Home_showFeeds__3Owt5",newPost:"Home_newPost__Nqf3t",artGif:"Home_artGif__2Q_OG"}},30:function(e,t,a){e.exports={container:"Comment_container__1uKS_",comment:"Comment_comment__1b26V",author:"Comment_author__2A5mK",date:"Comment_date__1xqEV"}},31:function(e,t,a){e.exports={formContainer:"OneFeed_formContainer__9Ie5f",comment:"OneFeed_comment__1snDG",backHome:"OneFeed_backHome__308pw"}},50:function(e,t,a){e.exports={container:"Signin_container__3xQcr",header:"Signin_header__2HUZW"}},57:function(e,t,a){e.exports=a(115)},62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.543c9478.chunk.js.map